window.addEventListener("DOMContentLoaded",initialise);function initialise(){const s=document.querySelector("button.theme-toggle"),e=document.body,n=localStorage.getItem("theme"),o=window.matchMedia("(prefers-color-scheme: dark)").matches,i=document.querySelectorAll("div.image-viewer"),a=document.querySelectorAll(".highlight>pre");n?(e.setAttribute("data-theme",n),t(n)):o?(e.setAttribute("data-theme","dark"),t("dark")):(e.setAttribute("data-theme","light"),t("light")),s&&(console.log("theme toggle"),s.addEventListener("click",()=>{const s=e.getAttribute("data-theme"),n=s==="dark"?"light":"dark";e.setAttribute("data-theme",n),localStorage.setItem("theme",n),t(n)}));function t(e){const t=document.getElementById("themeIcon");if(!t)return;t.textContent=e==="dark"?"🌙":"☀️"}window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",n=>{if(!localStorage.getItem("theme")){const s=n.matches?"dark":"light";e.setAttribute("data-theme",s),t(s)}});for(let e of i)e.addEventListener("wheel",t=>{if(e.scrollWidth<=e.clientWidth)return;t.preventDefault();const n=t.deltaY;e.scrollLeft+=n});for(let e of a)e.addEventListener("wheel",t=>{if(e.scrollWidth<=e.clientWidth)return;t.preventDefault();const n=t.deltaY;e.scrollLeft+=n})}